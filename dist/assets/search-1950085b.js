import{r as u,o as v,a as o,c as r,b as n,w as g,T as b,d as a,g as y,v as x,u as t,i as k,F as w,e as C,f}from"./index-0982089b.js";import{_ as L}from"./workout-preview-1fc8bc0b.js";import{s as _,_ as U,u as M,d as $,c as B,t as N,l as V,a as R,o as S}from"./workout-modal-13dc7782.js";import{c as T,_ as j}from"./check-login-97232596.js";import{a as z}from"./axios-4a70c6fc.js";let i=u(!1),d=u({}),c=u("");const F="/api",O=z.create({baseURL:F});let h=function(){i&&(i.value=!1);const m=c.value.toLowerCase();O.get("/workouts").then(l=>{const s=l.data;d.value=s.filter(e=>e.user_name.toLowerCase()===m),d.value.length===0&&(i.value=!0)}).catch(l=>{console.log(l)})};const W={class:"bg-black min-h-screen max-h-screen overflow-scroll background-shadow pb-28"},A={key:0,class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},D=a("div",{class:"fixed inset-0 bg-gray-800 bg-opacity-75 transition-opacity"},null,-1),E={class:"fixed inset-0 z-10 overflow-y-auto"},I={class:"text-white max-w-md mx-auto px-4 py-8"},Q={class:"space-y-6 mt-6"},q=["onClick"],G={key:0,class:"text-red-500 text-sm text-center"},Z={__name:"search",setup(m){return v(()=>{T()}),(l,s)=>(o(),r("main",W,[n(j),n(b,{name:"modal"},{default:g(()=>[t(_)?(o(),r("div",A,[D,a("div",E,[a("div",{onClick:s[0]||(s[0]=e=>_.value=!1),class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},[n(U,{user_name:t(M),date:t($),category:t(B),time:t(N),level:t(V),description:t(R)},null,8,["user_name","date","category","time","level","description"])])])])):f("",!0)]),_:1}),a("section",I,[y(a("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>k(c)?c.value=e:null),class:"w-full rounded-lg bg-black green-border px-2 py-1 focus:outline-none",placeholder:"Search a username",type:"text"},null,512),[[x,t(c)]]),a("button",{onClick:s[2]||(s[2]=(...e)=>t(h)&&t(h)(...e)),class:"btn transition rounded-lg text-black p-2 font-semibold mt-4 w-full",type:"button"},"Search"),a("div",Q,[(o(!0),r(w,null,C(t(d),(e,p)=>(o(),r("button",{onClick:H=>t(S)(e),class:"w-full border border-white rounded-lg mt-4",key:p},[n(L,{id:e._id,user_name:e.user_name,date:e.date,category:e.category,time:e.time,level:e.level},null,8,["id","user_name","date","category","time","level"])],8,q))),128)),t(i)?(o(),r("p",G,"Oops! It looks like there are no workouts for this user. Check the spelling or search another user.")):f("",!0)])])]))}};export{Z as default};
