import{r as l,a as c,c as _,d as e,g as r,v as i,j as x,h as d,m as g}from"./index-bffa905f.js";import{a as h}from"./axios-4a70c6fc.js";const b={class:"bg-black h-screen flex items-center justify-center background-shadow"},v={class:"text-center m-6 text-white space-y-8 w-screen max-w-md"},w=e("h1",{class:"text-5xl tracking-wider font-semibold"},[d("ROCK"),e("span",{class:"font-light italic"},"fit")],-1),k=e("p",{class:"text-gray-200 tracking-wide"},"Track your training | Learn from others",-1),y={class:"flex flex-col text-lg"},L={class:"flex flex-col items-start"},T=e("label",{class:"text-base font-semibold"},"Username:",-1),B={class:"flex flex-col items-start mt-5"},M=e("label",{class:"text-base font-semibold"},"Password:",-1),U=e("p",{id:"form-error",class:"text-red-500 text-sm mt-6 hidden"},null,-1),V=e("div",null,[d("Not a Member? "),e("a",{href:"/signup",class:"font-bold green"},"Sign Up!")],-1),E={__name:"login",setup(u){const n=l(""),a=l(""),m="/api",p=h.create({baseURL:m}),f=()=>{const t=document.getElementById("form-error");t.classList.add("hidden"),p.post("/users/login",{username:n.value,password:a.value}).then(s=>{if(s.status===200){const o=s.data.accessToken;localStorage.setItem("token",o),document.location.replace("/")}else t.classList.remove("hidden"),t.innerHTML="System error - please try again in a minute"}).catch(s=>{s.response.status===400?(t.classList.remove("hidden"),t.innerHTML="All fields are required"):s.response.status===401&&(t.classList.remove("hidden"),t.innerHTML="Please enter a valid username and password")})};return(t,s)=>(c(),_("section",b,[e("div",v,[w,k,e("div",null,[e("form",y,[e("div",L,[T,r(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>n.value=o),class:"w-full rounded-lg bg-black green-border px-2 py-1 focus:outline-none mt-2",placeholder:"enter your username",type:"text"},null,512),[[i,n.value]])]),e("div",B,[M,r(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>a.value=o),class:"w-full rounded-lg bg-black green-border px-2 py-1 focus:outline-none mt-2",placeholder:"enter your password",type:"password"},null,512),[[i,a.value]])]),U,e("button",{onClick:s[2]||(s[2]=x(o=>f(),["prevent"])),class:"btn mt-6 transition rounded-lg text-black p-2 font-semibold",type:"button"},"Login")])]),V])]))}},R={__name:"LoginView",setup(u){return(n,a)=>(c(),g(E))}};export{R as default};
