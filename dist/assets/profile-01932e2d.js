import{r as i,o as R,a,c as d,b as U,u as l,d as t,g as _,t as r,e as w,w as c,v as y,i as u,h as $,F as Y,f as H,j as q}from"./index-38f4c51b.js";import{_ as J}from"./workout-preview-d5b9b42a.js";import{c as K,_ as P}from"./check-login-de381f65.js";import{a as B}from"./axios-4a70c6fc.js";let M=i({}),j=i(!1),p=i(""),m=i(""),T="",L=i(!1),z=i(!1),C=i(!1),E=i(!1),S=i(""),f=i(""),b=i(""),g=i(""),v=i(""),h=i(""),G="";function Q(s){G=s._id,f.value=s.date,b.value=s.category,g.value=s.time,v.value=s.level,h.value=s.description,L.value=!0}function I(){f.value="",b.value="",g.value="",v.value="",h.value="",L.value=!1}function V(){z.value=!z.value}function k(){C.value=!C.value}const W=function(){localStorage.removeItem("token"),window.location.replace("/login")};function D(){const n={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},o={boulder_grade:p.value,route_grade:m.value};B.post("http://localhost:5001/api/benchmarks",o,n).then(e=>{C.value=!1,window.location.reload()}).catch(e=>{console.log(e)})}function F(){const n={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},o={boulder_grade:p.value,route_grade:m.value};B.put(`http://localhost:5001/api/benchmarks/${T}`,o,n).then(e=>{C.value=!1}).catch(e=>{console.log(e)})}function O(){const n={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},o={date:f._rawValue,category:b._rawValue,time:parseInt(g._rawValue),level:v._rawValue,description:h._rawValue};B.post("http://localhost:5001/api/workouts",o,n).then(e=>{z.value=!1,window.location.reload()}).catch(e=>{console.log(e)})}const N=function(){const s=localStorage.getItem("token");B.delete(`http://localhost:5001/api/workouts/${G}`,{headers:{Authorization:`Bearer ${s}`}}).then(n=>{L.value=!1,window.location.reload()}).catch(n=>{console.log(n)})},X=function(){const s=localStorage.getItem("token");B.get("http://localhost:5001/api/users/current",{headers:{Authorization:`Bearer ${s}`}}).then(n=>{if(n.data.benchmark[0]&&(j.value=!0,m.value=n.data.benchmark[0].route_grade,p.value=n.data.benchmark[0].boulder_grade,T=n.data.benchmark[0]._id),n.data.workouts[0]){E.value=!0,S.value=n.data.currentUser.username;const o=n.data.workouts,e={};for(let x=0;x<o.length;x++){const A=o[x];e["userWorkoutObject"+x]=A}M.value=e}}).catch(n=>{console.log(n)})},Z={class:"bg-black min-h-screen max-h-screen overflow-scroll background-shadow pb-28"},tt={key:0,class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},et=t("div",{class:"fixed inset-0 bg-gray-800 bg-opacity-75 transition-opacity"},null,-1),ot={class:"fixed inset-0 z-10 overflow-y-auto"},lt={class:"px-4 py-2 bg-white rounded-t-md"},nt={class:"flex justify-between text-black"},st={class:"font-semibold"},it={class:"italic"},at={class:"px-4 py-6 rounded-b-lg text-white"},dt={class:"text-center space-y-5"},rt=t("span",{class:"font-bold"},"Category: ",-1),ct=t("span",{class:"font-bold"},"Time: ",-1),ut=t("span",{class:"font-bold"},"Difficulty: ",-1),pt={class:"flex flex-col items-center"},mt=t("span",{class:"font-bold"},"Description",-1),ft={key:1,class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},bt=t("div",{class:"fixed inset-0 bg-gray-800 bg-opacity-75 transition-opacity"},null,-1),gt={class:"fixed inset-0 z-10 overflow-y-auto"},vt={class:"px-4 py-6 rounded-b-lg text-white"},ht={class:"text-center space-y-5"},xt={class:"flex flex-col items-center text-black"},_t=t("label",{for:"location",class:"block font-bold text-white leading-6"},"Date",-1),kt={class:"flex flex-col items-center text-black"},wt=t("label",{for:"location",class:"block font-bold text-white leading-6"},"Category",-1),yt={class:"flex flex-col items-center text-black"},Ct=t("label",{for:"location",class:"block font-bold text-white leading-6"},"Time (in minutes)",-1),Bt={class:"flex flex-col items-center text-black"},Vt=t("label",{for:"location",class:"block font-bold text-white leading-6"},"Level",-1),jt={class:"flex flex-col items-center pb-4"},zt=t("span",{class:"font-bold"},"Description",-1),Lt={key:2,class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Mt=t("div",{class:"fixed inset-0 bg-gray-800 bg-opacity-75 transition-opacity"},null,-1),St={class:"fixed inset-0 z-10 overflow-y-auto"},At={class:"px-4 py-6 rounded-b-lg text-white"},Ut={class:"text-center space-y-5"},$t={class:"flex flex-col items-center"},It=t("label",{for:"location",class:"block font-bold text-white leading-6"},"Boulder Grade",-1),Wt=q("<option selected>v1</option><option>v2</option><option>v3</option><option>v4</option><option>v5</option><option>v6</option><option>v7</option><option>v8</option><option>v9</option><option>v10</option><option>v11</option><option>v12</option><option>v13</option><option>v14</option><option>v15</option>",15),Dt=[Wt],Ft={class:"flex flex-col items-center"},Ot=t("label",{for:"location",class:"block font-bold text-white leading-6"},"Route Grade",-1),Nt=q("<option selected>5.7</option><option>5.8</option><option>5.9</option><option>5.10a</option><option>5.10b</option><option>5.10c</option><option>5.10d</option><option>5.11a</option><option>5.11b</option><option>5.11c</option><option>5.11d</option><option>5.12a</option><option>5.12b</option><option>5.12c</option><option>5.12d</option><option>5.13a</option><option>5.13b</option><option>5.13c</option><option>5.13d</option><option>5.14a</option><option>5.14b</option><option>5.14c</option><option>5.14d</option><option>5.15a</option>",24),qt=[Nt],Tt={class:"max-w-md mx-auto flex items-center mt-4"},Et=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"30px",height:"30px",class:"mr-1",fill:"#FFFFFF"},[t("path",{d:"M 10.166016 6.9335938 C 9.874125 6.9056562 9.5785313 7.0081563 9.3632812 7.2226562 L 2.2929688 14.292969 C 1.9019687 14.683969 1.9019687 15.316031 2.2929688 15.707031 L 9.3632812 22.777344 C 9.5542813 22.968344 9.8103125 23.070312 10.070312 23.070312 C 10.199312 23.070312 10.329125 23.047094 10.453125 22.996094 C 10.827125 22.842094 11.070312 22.476266 11.070312 22.072266 L 11.070312 18 L 26.070312 18 C 27.175313 18 28.070312 17.105 28.070312 16 L 28.070312 14 C 28.070312 12.895 27.175313 12 26.070312 12 L 11.070312 12 L 11.070312 7.9296875 C 11.070312 7.5256875 10.827125 7.1598594 10.453125 7.0058594 C 10.359625 6.9668594 10.263312 6.9429063 10.166016 6.9335938 z"})],-1),Gt={class:"text-white max-w-md mx-auto px-4 py-8 space-y-8"},Rt={class:"flex space-x-2"},Yt={key:0},Ht=t("h2",{class:"text-center text-2xl tracking-wider font-semibold border-b border-white pb-2 mb-6"},"Your Benchmarks",-1),Jt={class:"flex items-center justify-center space-x-10"},Kt={class:"benchmark-gradient w-24 h-24 rounded-full flex items-center justify-center text-3xl font-semibold"},Pt={class:"benchmark-gradient w-24 h-24 rounded-full flex items-center justify-center text-3xl font-semibold"},Qt={key:1},Xt=t("h2",{class:"text-center text-2xl tracking-wider font-semibold border-b border-white pb-2 mb-6"},"Your Workouts",-1),Zt={key:0,class:"w-full border border-white rounded-lg",disabled:""},te=["onClick"],se={__name:"profile",setup(s){return R(()=>{K(),X()}),(n,o)=>(a(),d("main",Z,[U(P),l(L)?(a(),d("div",tt,[et,t("div",ot,[t("div",{onClick:o[2]||(o[2]=(...e)=>l(I)&&l(I)(...e)),class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},[t("div",{onClick:o[1]||(o[1]=_(()=>{},["stop"])),class:"bg-black w-full border border-white rounded-lg relative transform overflow-hidden text-left shadow-xl transition-all sm:w-full sm:max-w-sm"},[t("div",lt,[t("div",nt,[t("p",st,r(l(S)),1),t("p",it,r(l(f)),1)])]),t("div",at,[t("div",dt,[t("p",null,[rt,t("span",null,r(l(b)),1)]),t("p",null,[ct,t("span",null,r(l(g)),1)]),t("p",null,[ut,t("span",null,r(l(v)),1)]),t("p",pt,[mt,t("span",null,r(l(h)),1)])])]),t("button",{onClick:o[0]||(o[0]=(...e)=>l(N)&&l(N)(...e)),class:"bg-red-500 w-full rounded-b-lg font-semibold tracking-wide py-2 transition"}," Delete Workout ")])])])])):w("",!0),l(z)?(a(),d("div",ft,[bt,t("div",gt,[t("div",{onClick:o[10]||(o[10]=(...e)=>l(V)&&l(V)(...e)),class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},[t("form",{onClick:o[9]||(o[9]=_(()=>{},["stop"])),class:"bg-black w-full border border-white rounded-lg relative transform overflow-hidden text-left shadow-xl transition-all sm:w-full sm:max-w-sm"},[t("div",vt,[t("div",ht,[t("div",xt,[_t,c(t("input",{class:"w-full rounded-md px-2 py-1",type:"text","onUpdate:modelValue":o[3]||(o[3]=e=>u(f)?f.value=e:null)},null,512),[[y,l(f)]])]),t("div",kt,[wt,c(t("input",{class:"w-full rounded-md px-2 py-1",type:"text","onUpdate:modelValue":o[4]||(o[4]=e=>u(b)?b.value=e:null)},null,512),[[y,l(b)]])]),t("div",yt,[Ct,c(t("input",{class:"w-full rounded-md px-2 py-1",type:"text","onUpdate:modelValue":o[5]||(o[5]=e=>u(g)?g.value=e:null)},null,512),[[y,l(g)]])]),t("div",Bt,[Vt,c(t("input",{class:"w-full rounded-md px-2 py-1",type:"text","onUpdate:modelValue":o[6]||(o[6]=e=>u(v)?v.value=e:null)},null,512),[[y,l(v)]])]),t("p",jt,[zt,c(t("textarea",{"onUpdate:modelValue":o[7]||(o[7]=e=>u(h)?h.value=e:null),rows:"5",cols:"60",name:"text",placeholder:"Enter text",class:"rounded-lg p-2 text-black",style:{"max-width":"21em"}},null,512),[[y,l(h)]])])])]),t("button",{onClick:o[8]||(o[8]=_((...e)=>l(O)&&l(O)(...e),["prevent"])),class:"btn w-full rounded-b-lg font-semibold tracking-wide py-2 transition"}," Save ")])])])])):w("",!0),l(C)?(a(),d("div",Lt,[Mt,t("div",St,[t("div",{onClick:o[16]||(o[16]=(...e)=>l(k)&&l(k)(...e)),class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},[t("form",{onClick:o[15]||(o[15]=_(()=>{},["stop"])),class:"bg-black w-full border border-white rounded-lg relative transform overflow-hidden text-left shadow-xl transition-all sm:w-full sm:max-w-sm"},[t("div",At,[t("div",Ut,[t("div",$t,[It,c(t("select",{"onUpdate:modelValue":o[11]||(o[11]=e=>u(p)?p.value=e:null),id:"location",name:"location",class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-2 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},Dt,512),[[$,l(p)]])]),t("div",Ft,[Ot,c(t("select",{"onUpdate:modelValue":o[12]||(o[12]=e=>u(m)?m.value=e:null),id:"location",name:"location",class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-2 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},qt,512),[[$,l(m)]])])])]),l(j)?(a(),d("button",{key:0,onClick:o[13]||(o[13]=_((...e)=>l(F)&&l(F)(...e),["prevent"])),class:"btn w-full rounded-b-lg font-semibold tracking-wide py-2 transition"}," Update ")):(a(),d("button",{key:1,onClick:o[14]||(o[14]=_((...e)=>l(D)&&l(D)(...e),["prevent"])),class:"btn w-full rounded-b-lg font-semibold tracking-wide py-2 transition"}," Save "))])])])])):w("",!0),t("div",Tt,[Et,t("button",{onClick:o[17]||(o[17]=(...e)=>l(W)&&l(W)(...e)),class:"text-white font-bold"},"Log Out")]),t("section",Gt,[t("div",Rt,[t("button",{onClick:o[18]||(o[18]=(...e)=>l(V)&&l(V)(...e)),class:"btn transition rounded-lg text-black p-2 font-semibold w-1/2",type:"button"},"Add Workout"),l(j)?(a(),d("button",{key:0,onClick:o[19]||(o[19]=(...e)=>l(k)&&l(k)(...e)),class:"btn transition rounded-lg text-black p-2 font-semibold w-1/2",type:"button"},"Update Benchmark")):(a(),d("button",{key:1,onClick:o[20]||(o[20]=(...e)=>l(k)&&l(k)(...e)),class:"btn transition rounded-lg text-black p-2 font-semibold w-1/2",type:"button"},"Add Benchmark"))]),l(j)?(a(),d("div",Yt,[Ht,t("div",Jt,[t("div",Kt,r(l(p)),1),t("div",Pt,r(l(m)),1)])])):w("",!0),l(E)?(a(),d("div",Qt,[Xt,Object.keys(l(M)).length===0?(a(),d("button",Zt,"Loading...")):(a(!0),d(Y,{key:1},H(l(M),(e,x)=>(a(),d("button",{onClick:A=>l(Q)(e),class:"w-full border border-white rounded-lg mt-4",key:x},[U(J,{id:e._id,user_name:l(S),date:e.date,category:e.category,time:e.time,level:e.level},null,8,["id","user_name","date","category","time","level"])],8,te))),128))])):w("",!0)])]))}};export{se as default};
